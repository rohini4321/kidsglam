<%-include('../partials/header.ejs')%>
<%-include('../partials/topnav.ejs')%>

<main class="main">
    <div class="page-header breadcrumb-wrap">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html" rel="nofollow">Home</a>
                <span></span> Pages
                <span></span> Forgot Password
            </div>
        </div>
    </div>
    
    <section class="pt-75 pb-75 text-center">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-4">
                    <div class="login_wrap widget-taber-content p-30 background-white border-radius-5">
                        <div class="padding_eight_all bg-white">
                            <div>
                                <h3 class="mb-50">Forgot Password</h3>
                            </div>
                            <form name="forgotPasswordForm" method="post" action="/forgotpassword" onsubmit="return validateForm()">
                                <div class="form-group">
                                    <input type="email" name="email" placeholder="Enter your email">
                                    <div id="emailError" class="error-message"></div>
                                </div>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-fill-out btn-block hover-up">Send OTP</button>
                                </div>
                            </form>
                            <div class="text-muted">Remember your password? <a href="/login">Login now</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<script>
    // Function to validate form fields
    function validateForm() {
        var email = document.forms["forgotPasswordForm"]["email"].value;
        var emailError = document.getElementById("emailError");

        // Resetting error messages
        emailError.innerText = "";

        // Validating email
        if (email == "") {
            emailError.innerText = "Please enter your email.";
            return false;
        } else if (!isValidEmail(email)) {
            emailError.innerText = "Please enter a valid email address.";
            return false;
        }

        return true; // Form is valid
    }

    // Function to validate email format
    function isValidEmail(email) {
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
    }
</script>

<style>
    .error-message {
        color: red; /* Change the color to red */
    }
</style>

<%-include('../partials/bottomnav.ejs')%>
<%-include('../partials/footer.ejs')%>
